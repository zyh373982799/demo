webpackJsonp([7],{KyeF:function(t,e){},Wdqz:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),l=s("qwAB"),n=s("y/jF"),c=s("ZV4u"),r=s("NYxO"),o=s("F4+m"),h=s("PvFA"),u={mixins:[o.a],data:function(){return{listDetail:[],scrollY:0,node:null,headerTitle:"歌手"}},created:function(){this.topList.id||this.$router.push("/rank"),this._normalizeSongs(this.topList.tracks),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight},computed:a()({headerTitleTouchDown:function(){return this.topList.name},bgStyle:function(){return"background-image: url("+this.topList.coverImgUrl+")"},title:function(){return this.headerTitleTouchDown},updateTime:function(){var t=new Date(this.topList.updateTime);return"最近更新:"+(t.getMonth()+1)+"月"+t.getDate()+"日"}},Object(r.c)(["topList"])),methods:a()({handlePlaylist:function(t){var e=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},_normalizeSongs:function(t){if(this.topList.id){var e=[];t.forEach(function(t){e.push(Object(h.d)(t))}),this.listDetail=e}else this.$router.push("/rank")},selectItem:function(t,e){this.selectPlay({list:this.listDetail,index:e})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(r.b)(["selectPlay","sequencePlay"])),watch:{scrollY:function(t){var e=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.headerTitleTouchDown:this.headerTitle="歌手",this.$refs.header.style.background=t<0?"rgba(212, 68, 57, "+e+")":"rgba(212, 68, 57, 0)"}},components:{SongList:c.a,Scroll:l.a,Loading:n.a}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"music-list"},[s("div",{ref:"header",staticClass:"header"},[s("div",{staticClass:"back",on:{click:t.back}},[s("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),s("div",{staticClass:"text"},[s("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),s("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll},on:{scroll:t.scroll}},[s("div",{staticClass:"music-list-wrapper"},[s("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[s("div",{staticClass:"filter"}),t._v(" "),s("div",{staticClass:"text"},[s("h2",{staticClass:"list-title"},[t._v("\n              "+t._s(t.title)+"\n            ")]),t._v(" "),s("p",{staticClass:"update"},[t._v(t._s(t.updateTime))])])]),t._v(" "),s("div",{staticClass:"song-list-wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[s("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),s("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),s("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),s("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[s("loading")],1)])],1)])},staticRenderFns:[]};var v=s("VU/8")(u,d,!1,function(t){s("KyeF")},"data-v-d29af8c0",null);e.default=v.exports}});
//# sourceMappingURL=7.fb67aa3ce3e6db71cfec.js.map